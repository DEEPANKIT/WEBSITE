<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Toxicity Productions</title>
    <link rel="stylesheet" href="CSS/toxy.css">
</head>
<body>
<header>
    <div class="logo">TOXICITY PRODUCTIONS</div>
    <div class="nav">
        <a href="#" class="active">Home</a>
        <a href="#">About</a>
        <a href="#">Services</a>
        <a href="#">Contact</a>
    </div>
</header>
<div class="parallax"></div>
<div class="container">
    <div class="inner">
        <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Velit expedita voluptates, aliquid earum soluta
            quidem repudiandae autem commodi tempora illum incidunt a cupiditate? Iusto beatae dolor praesentium atque
            dolore tempore!
            Lorem, ipsum dolor sit amet consectetur adipisicing elit. Alias fugit corrupti sed quod tempora, dolor
            perferendis eveniet reprehenderit magnam veniam qui praesentium aperiam id reiciendis, magni ipsum pariatur
            voluptas fuga.
        </p>
        <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Velit expedita voluptates, aliquid earum soluta
            quidem repudiandae autem commodi tempora illum incidunt a cupiditate? Iusto beatae dolor praesentium atque
            dolore tempore!
            Lorem, ipsum dolor sit amet consectetur adipisicing elit. Alias fugit corrupti sed quod tempora, dolor
            perferendis eveniet reprehenderit magnam veniam qui praesentium aperiam id reiciendis, magni ipsum pariatur
            voluptas fuga.
        </p>
        <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Velit expedita voluptates, aliquid earum soluta
            quidem repudiandae autem commodi tempora illum incidunt a cupiditate? Iusto beatae dolor praesentium atque
            dolore tempore!
            Lorem, ipsum dolor sit amet consectetur adipisicing elit. Alias fugit corrupti sed quod tempora, dolor
            perferendis eveniet reprehenderit magnam veniam qui praesentium aperiam id reiciendis, magni ipsum pariatur
            voluptas fuga.
        </p>
        <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Velit expedita voluptates, aliquid earum soluta
            quidem repudiandae autem commodi tempora illum incidunt a cupiditate? Iusto beatae dolor praesentium atque
            dolore tempore!
            Lorem, ipsum dolor sit amet consectetur adipisicing elit. Alias fugit corrupti sed quod tempora, dolor
            perferendis eveniet reprehenderit magnam veniam qui praesentium aperiam id reiciendis, magni ipsum pariatur
            voluptas fuga.
        </p>
        <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Velit expedita voluptates, aliquid earum soluta
            quidem repudiandae autem commodi tempora illum incidunt a cupiditate? Iusto beatae dolor praesentium atque
            dolore tempore!
            Lorem, ipsum dolor sit amet consectetur adipisicing elit. Alias fugit corrupti sed quod tempora, dolor
            perferendis eveniet reprehenderit magnam veniam qui praesentium aperiam id reiciendis, magni ipsum pariatur
            voluptas fuga.
        </p>
        <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Velit expedita voluptates, aliquid earum soluta
            quidem repudiandae autem commodi tempora illum incidunt a cupiditate? Iusto beatae dolor praesentium atque
            dolore tempore!
            Lorem, ipsum dolor sit amet consectetur adipisicing elit. Alias fugit corrupti sed quod tempora, dolor
            perferendis eveniet reprehenderit magnam veniam qui praesentium aperiam id reiciendis, magni ipsum pariatur
            voluptas fuga.
        </p>
    </div>
    <canvas id="mainCanvas"></canvas>
</div>
<script>
    let canvas = document.getElementById('mainCanvas');
    let context = canvas.getContext('2d');
    canvas.height = canvas.parentElement.clientHeight
    canvas.width = canvas.parentElement.clientWidth;

    let lines = [], length = 10, lp = 0, amount = 30;

    function getLines() {
        lines = [];
        for (let i = 0; i < amount; i++) {
            lines.push({
                x: Math.random() * canvas.width,
                y: Math.random() * canvas.height,
            });
        }
    }

    let startTime;

    function step(time) {
        if (!startTime)
            startTime = time;
        if (time - startTime >= 20) {
            startTime = time;
            context.clearRect(0, 0, canvas.width, canvas.height);
            for (let i = 0; i < lines.length; i++) {
                context.beginPath();
                context.moveTo(lines[i].x + lp, lines[i].y);
                context.lineTo(lines[i].x + length, lines[i].y);
                context.strokeStyle = "#4d4d4e";
                context.stroke();
            }
            if (length < 60)
                length++;
            else
                lp++;
            if (lp == 60) {
                length = 0;
                lp = 0;
                getLines();
            }
        }
        requestAnimationFrame(step);
    }

    function draw() {
        getLines();
        requestAnimationFrame(step, 1);
    }

    function close() {
        cancelAnimationFrame(1);
    }

    window.onresize = function () {
        canvas.height = window.innerHeight;
        canvas.width = window.innerWidth;
    };
    draw();
</script>
</body>
</html>